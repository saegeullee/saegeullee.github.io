{"componentChunkName":"component---src-templates-post-template-js","path":"/nodejs/is-nodejs-single-threaded","result":{"data":{"markdownRemark":{"id":"7077f3a6-120d-5b29-a75a-12291be57431","html":"<blockquote>\n<p><strong><a href=\"https://www.udemy.com/course/advanced-node-for-developers/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">NodeJS: Advanced Concepts</a></strong> 수업을 듣고 정리한 내용입니다.</p>\n</blockquote>\n<h1 id=\"이-글의-목차\"><a href=\"#%EC%9D%B4-%EA%B8%80%EC%9D%98-%EB%AA%A9%EC%B0%A8\" aria-label=\"이 글의 목차 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이 글의 목차</h1>\n<ul>\n<li><a href=\"#nodejs%EB%8A%94-%EC%8B%B1%EA%B8%80%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%B8%EA%B0%80\">Nodejs는 싱글스레드인가?</a></li>\n<li><a href=\"#libuv-%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80\">libuv 스레드풀</a></li>\n<li><a href=\"#%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80-%EC%82%AC%EC%9D%B4%EC%A6%88-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0\">스레드풀 사이즈 변경하기</a></li>\n</ul>\n<h2 id=\"nodejs는-싱글스레드인가\"><a href=\"#nodejs%EB%8A%94-%EC%8B%B1%EA%B8%80%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%B8%EA%B0%80\" aria-label=\"nodejs는 싱글스레드인가 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nodejs는 싱글스레드인가?</h2>\n<p>Nodejs의 이벤트루프는 싱글 스레드이다. Nodejs 어플리케이션이 실행되면 이벤트루프 인스턴스는 하나의 스레드에서 생성된다. 하지만 Nodejs의 <code class=\"language-text\">standard library</code>에 포함된 어떤 함수들은 싱글 스레드에서 실행되지 않는다. 이 함수들은 이벤트 루프가 실행되는 싱글 스레드 밖에서 실행이 된다. 즉, 이벤트루프가 싱글스레드인 것은 맞지만 프로그래머가 작성하는 모든 코드가 그 싱글스레드에서 실행되는 것은 아니다.</p>\n<p>실제 코드의 동작을 통해 이를 증명해보면 다음과 같다.\n아래의 코드는 Nodejs standard library 중 하나인 <code class=\"language-text\">crypto</code> 모듈의 <code class=\"language-text\">pbkdf2</code> 함수를 두 번 실행시킨다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> start <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncrypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha512'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1:'</span><span class=\"token punctuation\">,</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncrypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha512'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2:'</span><span class=\"token punctuation\">,</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 코드의 실행결과는 다음과 같다. <code class=\"language-text\">pbkdf2</code> 함수가 두번 실행되는데 대략 700 밀리초 정도 걸렸다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1: 715\n2: 732</code></pre></div>\n<p>만약 Nodejs가 싱글스레드라면 코드의 실행결과는 다음과 같이 나올 것이다. 첫번째 <code class=\"language-text\">pbkdf2</code> 함수가 끝나면 두번째 함수가 실행되었을 것이기 때문이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1: 715\n2: 1437</code></pre></div>\n<h2 id=\"libuv-스레드풀\"><a href=\"#libuv-%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80\" aria-label=\"libuv 스레드풀 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>libuv 스레드풀</h2>\n<p>Nodejs는 <code class=\"language-text\">pbkdf2</code>와 같이 무거운(computationally intensive) standard library의 함수는 이벤트루프 밖에서 처리한다. Nodejs는 이러한 작업을 <code class=\"language-text\">스레드풀</code>을 사용하여 처리한다. <code class=\"language-text\">스레드풀</code>은 아래의 이미지에서 볼 수 있듯이 네 개의 스레드의 집합을 일컫는다. <code class=\"language-text\">libuv</code>는 디폴트로 스레드풀에 네 개의 스레드를 생성한다.</p>\n<p>Nodejs는 Nodejs 어플리케이션이 실행되는 싱글스레드 외에 네 개의 추가적인 스레드를 사용하여 무거운 작업을 처리한다. Nodejs는 자동으로 이 스레드풀을 사용하여 standard library의 많은 함수들을 처리한다. Nodejs의 이벤트루프가 싱글스레드에서 실행되다가 무거운 작업들이 들어오면 해당 작업은 직접 처리하지 않고 스레드풀에 작업을 분담한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 688px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8bd17c3aad0ed7fd99ace1d28fb60a96/97387/nodejs_threadpool.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.58720930232558%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACIElEQVQ4y42TW3OiQBCF8/9/y75tNslatQ+pSmI2gcQgqGgEFNAoeAMFAeHbAXPbxL1M1aGne2bOnKanj4q8oCgE8pxyzNczRnMXc2RUsMYm1sjEePYNt4/j2/jBdH/uA474MCzvkTvjhu9XJ5xdHlOrn3J6cVz5tfqJmH/lZ+eK3lObXIj4RLharojjmG28JUkSws2W1SYhSvMK621Gu2cSRG+xME4JhX9QoWM7aKqGJMkMBxa9cYTq7mi5GfoUrts+X85uOW84la+JeEus66PksMIyzSiKCFaBsBsCoW65yViGCYtVjDcLeVA6+PN15S+CbbUeRNlhhflzMd5GUX3TkU2mSOxaDfq1b0SNW3JVJrUe33YeItxXeI88L14JdwufwjbJnQFG/YJk0KdwLLLp038QPqMkC0Uq8/WOZQzjRYzjhSjdIZNVIp5ThAiJlHNRuOzvhC/qjEmCZsd0hkt+XD5QO5eQVIsLWa/mmuHRcWP08R+K8lGh6e0Y2q6QJ4OnktgSA/mM1JEqn/EtU8dEn+RVM/yTcC7S8UVnbAb3hE6LWf+eUfuGudEgtFusRXzpdvHCkix/d5bPhC/tly4sFPmGy2uZu3sFTdNRmm0xV2nIMltvX+nXthUon95BwvKu7czE6am0mk2Mbgdda9JuPtBRm3QVQTjtVvvep5yl2QHCEuWTWU9JJyo7Xxe2VdnMa+9tGQ+cPeFvv2vv/wIwaCmZuBP2+QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/8bd17c3aad0ed7fd99ace1d28fb60a96/8ac56/nodejs_threadpool.webp 240w,\n/static/8bd17c3aad0ed7fd99ace1d28fb60a96/d3be9/nodejs_threadpool.webp 480w,\n/static/8bd17c3aad0ed7fd99ace1d28fb60a96/01c7f/nodejs_threadpool.webp 688w\"\n          sizes=\"(max-width: 688px) 100vw, 688px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/8bd17c3aad0ed7fd99ace1d28fb60a96/e4891/nodejs_threadpool.png 240w,\n/static/8bd17c3aad0ed7fd99ace1d28fb60a96/0ce91/nodejs_threadpool.png 480w,\n/static/8bd17c3aad0ed7fd99ace1d28fb60a96/97387/nodejs_threadpool.png 688w\"\n          sizes=\"(max-width: 688px) 100vw, 688px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/8bd17c3aad0ed7fd99ace1d28fb60a96/97387/nodejs_threadpool.png\"\n          alt=\"nodejs threadpool\"\n          title=\"nodejs threadpool\"\n          loading=\"lazy\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        />\n      </picture>\n  </a>\n    </span></p>\n<br>\n<p>이제 <code class=\"language-text\">pbkdf2</code> 함수를 5번 실행시켜보자</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'crypto'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> start <span class=\"token operator\">=</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncrypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha512'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1:'</span><span class=\"token punctuation\">,</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncrypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha512'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2:'</span><span class=\"token punctuation\">,</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncrypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha512'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'3:'</span><span class=\"token punctuation\">,</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncrypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha512'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'4:'</span><span class=\"token punctuation\">,</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ncrypto<span class=\"token punctuation\">.</span><span class=\"token function\">pbkdf2</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">512</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'sha512'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'5:'</span><span class=\"token punctuation\">,</span> Date<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>결과는 다음과 같이 나온다. 1~4까지의 각 함수(작업)는 스레드풀에 있는 네 개의 스레드가 먼저 처리하고 5번째 작업만 시간이 더 많이 걸리는 것을 확인해 볼 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">3: 856\n4: 860\n1: 899\n2: 908\n5: 1473</code></pre></div>\n<h2 id=\"스레드풀-사이즈-변경하기\"><a href=\"#%EC%8A%A4%EB%A0%88%EB%93%9C%ED%92%80-%EC%82%AC%EC%9D%B4%EC%A6%88-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0\" aria-label=\"스레드풀 사이즈 변경하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스레드풀 사이즈 변경하기</h2>\n<p>스레드풀은 개발자가 임의로 지정해줄 수도 있다. 파일의 맨 위에 다음의 코드를 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">UV_THREADPOOL_SIZE</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 스레드풀에는 2개의 스레드만 생성된다. 다시 파일을 실행시켜보면 결과는 다음과 같이 나온다. 각 작업은 스레드풀의 스레드의 수에 맞게 2개씩 처리되어 결과가 나오는 것을 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">2: 1014\n1: 1034\n4: 1991\n3: 1993\n5: 2887</code></pre></div>\n<h2 id=\"libuv의-os로의-작업-위임\"><a href=\"#libuv%EC%9D%98-os%EB%A1%9C%EC%9D%98-%EC%9E%91%EC%97%85-%EC%9C%84%EC%9E%84\" aria-label=\"libuv의 os로의 작업 위임 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>libuv의 OS로의 작업 위임</h2>","fields":{"slug":"/nodejs/is-nodejs-single-threaded","tagSlugs":["/tag/nodejs/"]},"frontmatter":{"date":"2020-01-05T17:10:37.121Z","description":"Nodejs의 이벤트루프는 싱글 스레드이다. Nodejs 어플리케이션이 실행되면 이벤트루프 인스턴스는 하나의 스레드에서 생성된다. 하지만 Nodejs의 `standard library`에 포함된 어떤 함수들은 싱글 스레드에서 실행되지 않는다. 이 함수들은 이벤트 루프가 실행되는 싱글 스레드 밖에서 실행이 된다...","tags":["nodejs"],"title":"Nodejs 싱글스레드와 스레드풀","socialImage":"/media/image-2.jpg"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/nodejs/is-nodejs-single-threaded"}}}